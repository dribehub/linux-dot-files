[module/xworkspaces]
    type = internal/xworkspaces
    label-active = %name%
    label-occupied = %name%
    label-urgent = %name%
    label-empty = %name%
    label-active-padding = 1
    label-occupied-padding = 1
    label-urgent-padding = 1
    label-empty-padding = 1
    label-active-foreground = ${colors.xworkspaces-active}
    label-occupied-foreground = ${colors.xworkspaces-occupied}
    label-urgent-background = ${colors.xworkspaces-urgent}
    label-empty-foreground = ${colors.xworkspaces-empty}

[module/xwindow]
    type = internal/xwindow
    format = <label>
    label-foreground = ${colors.xwindow}
    label = %title:0:60:...%

[module/filesystem]
    type = internal/fs
    interval = 25
    mount-0 = /
    format-mounted = <label-mounted>
    format-mounted-prefix-foreground = ${colors.filesystem-mounted}
    format-mounted-prefix = "/ "
    format-unmounted = <label-unmounted>
    format-unmounted-prefix-foreground = ${colors.filesystem-unmounted}
    format-unmounted-prefix = " "
    label-mounted-foreground = ${colors.disabled}
    label-unmounted-foreground = ${colors.disabled}
    label-mounted = %percentage_used%%
    label-unmounted = %mountpoint% not mounted

[module/pulseaudio]
    type = internal/pulseaudio
    format-volume = <label-volume>
    format-volume-prefix-foreground = ${colors.pulseaudio-volume}
    format-volume-prefix = " "
    label-volume-foreground = ${colors.disabled}
    label-volume = %percentage%%
    format-muted = <label-muted>
    format-muted-prefix-foreground = ${colors.pulseaudio-muted}
    format-muted-prefix = " "
    label-muted-foreground = ${colors.disabled}
    label-muted = muted

include-file = ~/.config/polybar/spotify.ini

[module/xkeyboard]
    type = internal/xkeyboard
    blacklist-0 = num lock
    format = <label-layout>
    format-prefix-foreground = ${colors.xkeyboard}
    format-prefix = " "
    label-layout-foreground = ${colors.disabled}
    label-layout = %layout%
    label-indicator-padding = 2
    label-indicator-margin = 1

[module/memory]
    type = internal/memory
    interval = 2
    format-prefix-foreground = ${colors.memory}
    format-prefix = " "
    label-foreground = ${colors.disabled}
    label = %percentage_used:2%%

[module/cpu]
    type = internal/cpu
    interval = 2
    format-prefix-foreground = ${colors.cpu}
    format-prefix = " "
    label-foreground = ${colors.disabled}
    label = %percentage:2%%

[module/network]
    type = internal/network
    interface = wlp2s0
    interface-type = wireless
    interval = 3.0
    udspeed-minwidth = 5
    accumulate-stats = true
    unknown-as-up = true
    speed-unit = ''
    format-connected =                      <label-connected>
    format-disconnected =                   <label-disconnected>
    format-connected-prefix =               " "
    format-disconnected-prefix =            " "
    format-connected-prefix-foreground =    ${colors.network-connected}
    format-disconnected-prefix-foreground = ${colors.network-disconnected}
    label-connected =                       "%essid%"
    label-disconnected =                    "not connected"
    label-connected-foreground =            ${colors.disabled}
    label-disconnected-foreground =         ${colors.disabled}

[module/bluetooth]
    type = custom/script
    exec = ~/.config/polybar/scripts/bluetooth.sh
    tail = true
    click-left = ~/.config/polybar/scripts/bluetooth.sh --toggle &

[module/battery]
    type = internal/battery
    full-at = 99
    low-at = 5
    battery = BAT0
    adapter = ADP1
    poll-interval = 5
    format-full =                           <label-full>
    format-charging =                       <label-charging>
    format-discharging =                    <label-discharging>
    format-low =                            <label-low>
    format-full-prefix =                    " "
    format-charging-prefix =                " "
    format-discharging-prefix =             " "
    format-low-prefix =                     " "
    format-full-prefix-foreground =         ${colors.battery-full}
    format-charging-prefix-foreground =     ${colors.battery-charging}
    format-discharging-prefix-foreground =  ${colors.battery-discharging}
    format-low-prefix-foreground =          ${colors.battery-low}
    label-full =                            charged
    label-charging =                        %percentage%%
    label-discharging =                     %percentage%%
    label-low =                             low
    label-full-foreground =                 ${colors.disabled}
    label-charging-foreground =             ${colors.disabled}
    label-discharging-foreground =          ${colors.disabled}
    label-low-foreground =                  ${colors.disabled}

[module/date]
    type = internal/date
    interval = 1
    format = <label>
    format-prefix = " "
    format-prefix-foreground = ${colors.date}
    date = %H:%M
    date-alt = %Y-%m-%d %H:%M:%S
    label = %date%
    label-foreground = ${colors.disabled}
    
[module/restart]
    type = custom/menu
    expand-right = false
    label-open = ""
    label-open-foreground = ${colors.restart}
    label-close = "n"
    label-close-foreground = ${colors.negative}
    menu-0-0 = "y "
    menu-0-0-foreground = ${colors.positive}
    menu-0-0-exec = reboot

[module/poweroff]
    type = custom/menu
    expand-right = false
    label-open = ""
    label-open-foreground = ${colors.poweroff}
    label-close = "n"
    label-close-foreground = ${colors.negative}
    menu-0-0 = "y "
    menu-0-0-foreground = ${colors.positive}
    menu-0-0-exec = poweroff
